  // project-table.scss
  @use '../../../styles/mixins' as *;
  @use '../../../styles/variables' as *;

  :host {
    display: block;
    min-height: 100vh;
  }

  .project-table {
    padding: var(--spacing-8) 0;

    // Header
    &__header {
      @include container;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--spacing-8);
      gap: var(--spacing-4);

      @media (max-width: $breakpoint-mobile) {
        flex-direction: column;
        align-items: flex-start;
      }
    }

    &__title {
      @include heading;
      font-size: var(--font-size-4xl);
      margin: 0;
    }

    // States
    &__loading,
    &__error,
    &__empty {
      @include container;
      padding: var(--spacing-12);
      text-align: center;
      color: var(--text-secondary);
    }

    &__error {
      color: var(--error);
    }

    // Table Container
    &__container {
      @include container;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch; // Smooth scrolling on iOS

      // Custom scrollbar
      &::-webkit-scrollbar {
        height: 8px;
      }

      &::-webkit-scrollbar-track {
        background: var(--surface-secondary);
        border-radius: var(--radius-sm);
      }

      &::-webkit-scrollbar-thumb {
        background: var(--border-default);
        border-radius: var(--radius-sm);

        &:hover {
          background: var(--text-tertiary);
        }
      }
    }

    // Table
    &__table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      font-size: var(--font-size-sm);

      // Mobile: switch to card layout
      @media (max-width: $breakpoint-tablet) {
        display: block;
      }
    }

    // Table Head
    &__thead {
      @media (max-width: $breakpoint-tablet) {
        display: none; // Hide header on mobile
      }
    }

    // Table Header Cell
    &__th {
      padding: var(--spacing-4);
      text-align: left;
      font-weight: var(--font-weight-semibold);
      color: var(--text-secondary);
      background: var(--surface-secondary);
      border-bottom: 2px solid var(--border-default);
      white-space: nowrap;

      // Sticky header for long lists
      position: sticky;
      top: 0;
      z-index: 10;

      &:first-child {
        border-top-left-radius: var(--radius-default);
      }

      &:last-child {
        border-top-right-radius: var(--radius-default);
      }

      &--sortable {
        cursor: pointer;
        user-select: none;

        &:hover {
          background: var(--surface-tertiary);
        }
      }

      &--actions {
        text-align: right;
      }
    }

    // Sort Button
    &__sort-button {
      display: flex;
      align-items: center;
      gap: var(--spacing-2);
      padding: 0;
      background: none;
      border: none;
      color: inherit;
      font: inherit;
      cursor: pointer;
      width: 100%;
    }

    &__sort-icon {
      font-size: 0.75em;
      transition: transform var(--transition-fast) var(--ease-out);

      &--desc {
        transform: rotate(180deg);
      }
    }

    // Table Body
    &__tbody {
      @media (max-width: $breakpoint-tablet) {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-4);
      }
    }

    // Table Row
    &__row {
      transition: background-color var(--transition-fast) var(--ease-out);

      &:hover {
        background: var(--surface-secondary);
      }

      // Mobile: card layout
      @media (max-width: $breakpoint-tablet) {
        display: block;
        @include card;
        padding: var(--spacing-4);
        background: var(--surface-primary);

        &:hover {
          background: var(--surface-primary);
          box-shadow: var(--shadow-md);
        }
      }
    }

    // Table Cell
    &__cell {
      padding: var(--spacing-4);
      border-bottom: 1px solid var(--border-default);
      vertical-align: middle;

      // Mobile: reset table cell styles
      @media (max-width: $breakpoint-tablet) {
        display: block;
        border: none;
        padding: var(--spacing-2) 0;

        &:first-child {
          padding-top: 0;
        }

        &:last-child {
          padding-bottom: 0;
        }

        // Add labels on mobile
        &::before {
          content: attr(data-label);
          display: inline-block;
          font-weight: var(--font-weight-semibold);
          color: var(--text-secondary);
          margin-right: var(--spacing-2);
        }

        &--name::before {
          content: '';
        }

        &--status::before {
          content: 'Status: ';
        }

        &--featured::before {
          content: 'Featured: ';
        }

        &--order::before {
          content: 'Order: ';
        }

        &--date::before {
          content: 'Updated: ';
        }

        &--actions::before {
          content: '';
        }
      }

      &--actions {
        text-align: right;

        @media (max-width: $breakpoint-tablet) {
          text-align: left;
          margin-top: var(--spacing-3);
        }
      }
    }

    // Name Cell Components
    &__name-wrapper {
      display: flex;
      align-items: center;
      gap: var(--spacing-3);
    }

    &__thumbnail {
      width: 48px;
      height: 48px;
      border-radius: var(--radius-sm);
      object-fit: cover;
      background: var(--surface-secondary);
      flex-shrink: 0;
    }

    &__name-content {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-1);
      min-width: 0; // Enable text truncation
    }

    &__name-text {
      font-weight: var(--font-weight-medium);
      color: var(--text-primary);
    }

    &__tags {
      display: flex;
      flex-wrap: wrap;
      gap: var(--spacing-1);
    }

    &__tag {
      display: inline-block;
      padding: var(--spacing-05) var(--spacing-2);
      background: var(--primary-alpha-10);
      color: var(--primary);
      font-size: var(--font-size-xs);
      font-weight: var(--font-weight-medium);
      border-radius: var(--radius-sm);
    }

    &__tag-more {
      @extend .project-table__tag;
      background: var(--surface-tertiary);
      color: var(--text-tertiary);
    }

    // Featured Icon
    &__featured-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 24px;
      height: 24px;
      border-radius: var(--radius-full);
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-bold);
      color: var(--text-tertiary);
      background: var(--surface-secondary);

      &--active {
        color: var(--success);
        background: oklch(from var(--success) l c h / 0.15);
      }
    }

    // Actions
    &__actions {
      display: flex;
      gap: var(--spacing-2);
      justify-content: flex-end;

      @media (max-width: $breakpoint-tablet) {
        justify-content: flex-start;
      }
    }

    // Reduced motion
    @media (prefers-reduced-motion: reduce) {

      &__sort-icon,
      &__row {
        transition: none;
      }
    }
  }
